#
# Settings for saslauthd daemon
# Please read /usr/share/doc/sasl2-bin/README.Debian for details.
#

# Should saslauthd run automatically on startup? (default: no)
<% if scope.lookupvar('::saslauthd_start') != :undefined -%>
START=<%= scope.lookupvar('::saslauthd_start') %>
<% elsif scope.lookupvar('saslauthd_start') != :undefined -%>
START=<%= scope.lookupvar('saslauthd_start') %>
<% else -%>
START=no
<% end -%>

# Description of this saslauthd instance. Recommended.
# (suggestion: SASL Authentication Daemon)
<% if scope.lookupvar('::saslauthd_desc') != :undefined -%>
DESC=<%= scope.lookupvar('::saslauthd_desc') %>
<% elsif scope.lookupvar('saslauthd_desc') != :undefined -%>
DESC=<%= scope.lookupvar('saslauthd_desc') %>
<% else -%>
DESC="SASL Authentication Daemon"
<% end -%>

# Short name of this saslauthd instance. Strongly recommended.
# (suggestion: saslauthd)
<% if scope.lookupvar('::saslauthd_name') != :undefined -%>
NAME=<%= scope.lookupvar('::saslauthd_name') %>
<% elsif scope.lookupvar('saslauthd_name') != :undefined -%>
NAME=<%= scope.lookupvar('saslauthd_name') %>
<% else -%>
NAME="saslauthd"
<% end -%>

# Which authentication mechanisms should saslauthd use? (default: pam)
#
# Available options in this Debian package:
# getpwent  -- use the getpwent() library function
# kerberos5 -- use Kerberos 5
# pam       -- use PAM
# rimap     -- use a remote IMAP server
# shadow    -- use the local shadow password file
# sasldb    -- use the local sasldb database file
# ldap      -- use LDAP (configuration is in /etc/saslauthd.conf)
#
# Only one option may be used at a time. See the saslauthd man page
# for more information.
#
# Example: MECHANISMS="pam"
<% if scope.lookupvar('::saslauthd_mechanisms') != :undefined -%>
MECHANISMS=<%= scope.lookupvar('::saslauthd_mechanisms') %>
<% elsif scope.lookupvar('saslauthd_mechanisms') != :undefined -%>
MECHANISMS=<%= scope.lookupvar('saslauthd_mechanisms') %>
<% else -%>
MECHANISMS="pam"
<% end -%>

# Additional options for this mechanism. (default: none)
# See the saslauthd man page for information about mech-specific options.
<% if scope.lookupvar('::saslauthd_mech_options') != :undefined -%>
MECH_OPTIONS=<%= scope.lookupvar('::saslauthd_mech_options') %>
<% elsif scope.lookupvar('saslauthd_mech_options') != :undefined -%>
MECH_OPTIONS=<%= scope.lookupvar('saslauthd_mech_options') %>
<% else -%>
MECH_OPTIONS=""
<% end -%>

# How many saslauthd processes should we run? (default: 5)
# A value of 0 will fork a new process for each connection.
<% if scope.lookupvar('::saslauthd_threads') != :undefined -%>
THREADS=<%= scope.lookupvar('::saslauthd_threads') %>
<% elsif scope.lookupvar('saslauthd_threads') != :undefined -%>
THREADS=<%= scope.lookupvar('saslauthd_threads') %>
<% else -%>
THREADS=5
<% end -%>

# Other options (default: -c -m /var/run/saslauthd)
# Note: You MUST specify the -m option or saslauthd won't run!
#
# WARNING: DO NOT SPECIFY THE -d OPTION.
# The -d option will cause saslauthd to run in the foreground instead of as
# a daemon. This will PREVENT YOUR SYSTEM FROM BOOTING PROPERLY. If you wish
# to run saslauthd in debug mode, please run it by hand to be safe.
#
# See /usr/share/doc/sasl2-bin/README.Debian for Debian-specific information.
# See the saslauthd man page and the output of 'saslauthd -h' for general
# information about these options.
#
# Example for chroot Postfix users: "-c -m /var/spool/postfix/var/run/saslauthd"
# Example for non-chroot Postfix users: "-c -m /var/run/saslauthd"
#
# To know if your Postfix is running chroot, check /etc/postfix/master.cf.
# If it has the line "smtp inet n - y - - smtpd" or "smtp inet n - - - - smtpd"
# then your Postfix is running in a chroot.
# If it has the line "smtp inet n - n - - smtpd" then your Postfix is NOT
# running in a chroot.
<% if scope.lookupvar('::saslauthd_options') != :undefined -%>
OPTIONS="<%= scope.lookupvar('::saslauthd_options') %>"
<% elsif scope.lookupvar('saslauthd_options') != :undefined -%>
OPTIONS="<%= scope.lookupvar('saslauthd_options') %>"
<% else -%>
OPTIONS="-c -m /var/run/saslauthd"
<% end -%>
