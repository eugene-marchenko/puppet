# envvars - default environment variables for apache2ctl

# this won't be correct after changing uid
unset HOME

# for supporting multiple apache2 instances
if [ "${APACHE_CONFDIR##/etc/apache2-}" != "${APACHE_CONFDIR}" ] ; then
	SUFFIX="-${APACHE_CONFDIR##/etc/apache2-}"
else
	SUFFIX=
fi

# Since there is no sane way to get the parsed apache2 config in scripts, some
# settings are defined via environment variables and then used in apache2ctl,
# /etc/init.d/apache2, /etc/logrotate.d/apache2, etc.
<% if @apache_run_user -%>
export APACHE_RUN_USER=<%= @apache_run_user %>
<% else -%>
export APACHE_RUN_USER=www-data
<% end -%>
<% if @apache_run_group -%>
export APACHE_RUN_GROUP=<%= @apache_run_group %>
<% else -%>
export APACHE_RUN_GROUP=www-data
<% end -%>
<% if @apache_pid_file -%>
export APACHE_PID_FILE=<%= @apache_pid_file %>
<% else -%>
export APACHE_PID_FILE=/var/run/apache2$SUFFIX.pid
<% end -%>
<% if @apache_run_dir -%>
export APACHE_RUN_DIR=<%= @apache_run_dir %>
<% else -%>
export APACHE_RUN_DIR=/var/run/apache2$SUFFIX
<% end -%>
<% if @apache_lock_dir -%>
export APACHE_LOCK_DIR=<%= @apache_lock_dir %>
<% else -%>
export APACHE_LOCK_DIR=/var/lock/apache2$SUFFIX
<% end -%>
# Only /var/log/apache2 is handled by /etc/logrotate.d/apache2.
<% if @apache_log_dir -%>
export APACHE_LOG_DIR=<%= @apache_log_dir %>$SUFFIX
<% else -%>
export APACHE_LOG_DIR=/var/log/apache2$SUFFIX
<% end -%>

## The locale used by some modules like mod_dav
<% if @apache_env_lang -%>
export LANG=<%= @apache_env_lang %>
<% else -%>
export LANG=C
<% end -%>
## Uncomment the following line to use the system default locale instead:
<% if @apache_use_system_locale == 'true' -%>
. /etc/default/locale
<% else -%>
#. /etc/default/locale
<% end -%>

export LANG

## The command to get the status for 'apache2ctl status'.
## Some packages providing 'www-browser' need '--dump' instead of '-dump'.
<% if @apache_status_command -%>
export APACHE_LYNX='<%= @apache_status_command %>'
<% else -%>
#export APACHE_LYNX='www-browser -dump'
<% end -%>

## If you need a higher file descriptor limit, uncomment and adjust the
## following line (default is 8192):
<% if @apache_max_files -%>
APACHE_ULIMIT_MAX_FILES='ulimit -n <%= @apache_max_files %>'
<% else -%>
#APACHE_ULIMIT_MAX_FILES='ulimit -n 65536'
<% end -%>
